"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){var e=function t(e){var n=this,r={global:{element:null,hoverHeight:25,defaultHeight:5,marginLeft:"37%",data:{}},events:[]},o=new Date,a=t.utils;this.createElement=function(t,n){var r=this,o=document.createElement("div"),i=document.createElement("a");i.setAttribute("target","_blank");var u=document.createElement("span");u.setAttribute("style","opacity: 0;"),u.innerHTML=a.render(t.text,t.data),u.style.marginLeft=t.marginLeft||e.global.marginLeft||"37%",i.style.color=t.textColor||e.global.textColor||"",i.addEventListener("mouseenter",function(n){u.style.opacity=100,n.target.style.height=(e.global.hoverHeight||t.hoverHeight)+"px"}),i.addEventListener("mouseout",function(n){u.style.opacity=0,n.target.style.height=(e.global.defaultHeight||t.defaultHeight)+"px"}),this.aElement=i,this.divElement=o,this.spanElement=u,["div","a","span"].forEach(function(e){return a.deepExtend(r[e+"Element"],t[e+"Extend"]||{})}),this.aElement.style.cssText=a.render("                background-color: {{ color }};                background-size: cover;                position: absolute;                top: 0;                left: 0;                width: 100%;                width: 100vw;                height: {{defaultHeight}}px;                z-index: 99999;            ",Object.assign({color:t.color,defaultHeight:e.global.defaultHeight},t.data)),i.appendChild(u),o.appendChild(i),document.body.insertBefore(o,n||document.body.firstChild)},e.global=e.global||{},a.deepExtend(e.global,r.global),console.log(e);var i=e.events;i.forEach(function(t){Object.assign(t.data,e.global.data),(t.needsRender||[]).forEach(function(e){var n=t,r=t,o=e.split(".");o.forEach(function(t){r=n,n=n[t]}),r[o[o.length-1]]=a.render(n,t.data)})}),console.log(i);var u=i.filter(function(t){return a.sameDate(t.date,o)});this.targets=u.length?u:i.filter(function(t){return"else"===t.date}),this.targets.forEach(function(t){return n.createElement(t,e.global.element)})},n=function(t,e){return function(n,r){return e(t(n),t(r))}},r=function(t){return n(t,function(t,e){return t===e})};e.of=function(t){return new this(t)},e.utils={forEach:function(t,e){for(var n in t)e(t[n],n,t)},reduce:function(t,e,n){return this.forEach(t,function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];return n=e.apply(void 0,[n].concat(r))}),n},procedure:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce(function(t,e){return e(t)})},applyTo:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){return e(t)})},sameDate:function(t,e){return"never"!==t&&"else"!==t&&("always"===t||["Month","Date"].every(function(n){return r(function(t){return t["get"+n]()})(new Date(t),e)}))},render:function(t,e,n){return n=n||["{{","}}"],this.reduce(e,function(t,e,r){return t.replace(new RegExp(n.join("\\s*?"+r+"\\s*?"),"g"),e)},t)},extend:function(t,e){this.forEach(e,function(e,n){return t[n]=t[n]||e})},deepExtend:function(t,e){var n=this;return e=e||{},this.forEach(e,function(e,r){"object"==(void 0===e?"undefined":_typeof(e))?t[r]=n.deepExtend(t[r],e):t[r]=t[r]||e}),t}},e.helper=function(t,e){return e.map(function(e){return Object.assign(JSON.parse(JSON.stringify(t)),{data:Object.assign({},t.data||{},e)})})},t.AdovecNotify=e}(window);